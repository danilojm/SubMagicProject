(()=>{var e={};e.id=531,e.ids=[531],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13861:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16404:(e,s,t)=>{Promise.resolve().then(t.bind(t,77372))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19491:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(60687),r=t(43210),i=t(82136),l=t(16189),n=t(85814),o=t.n(n),d=t(24934),c=t(68988),u=t(55192),p=t(59821),x=t(57769),m=t(96474),h=t(62688);let f=(0,h.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),j=(0,h.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var y=t(10022),v=t(40228),b=t(48730);let g=(0,h.A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var N=t(13861),w=t(31158),k=t(78122),A=t(88233),C=t(55629),P=t(96241),M=t(52581),E=t(21121);function S(){let{data:e,status:s}=(0,i.useSession)();(0,l.useRouter)();let[t,n]=(0,r.useState)([]),[h,S]=(0,r.useState)(!0),[_,D]=(0,r.useState)(""),[R,L]=(0,r.useState)("all"),[$,q]=(0,r.useState)(1),[I,F]=(0,r.useState)(1),T=async()=>{try{let e=new URLSearchParams({page:$.toString(),limit:"10",..."all"!==R&&{status:R}}),s=await fetch(`/api/jobs?${e}`);if(s.ok){let e=await s.json();n(e.data.jobs),F(e.data.pagination.pages)}}catch(e){console.error("Failed to fetch jobs:",e),M.oR.error("Failed to load jobs")}finally{S(!1)}},z=async e=>{if(confirm("Are you sure you want to delete this job?"))try{(await fetch(`/api/jobs/${e}`,{method:"DELETE"})).ok?(M.oR.success("Job deleted successfully"),T()):M.oR.error("Failed to delete job")}catch(e){M.oR.error("Failed to delete job")}},G=async e=>{try{(await fetch(`/api/jobs/${e}/retry`,{method:"POST"})).ok?(M.oR.success("Job retry initiated"),T()):M.oR.error("Failed to retry job")}catch(e){M.oR.error("Failed to retry job")}},O=t.filter(e=>e.title.toLowerCase().includes(_.toLowerCase())||e.inputSource.toLowerCase().includes(_.toLowerCase()));return"loading"===s||h?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):"unauthenticated"===s?null:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(E.P.div,{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Subtitle Jobs"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage and monitor your subtitle generation jobs"})]}),(0,a.jsx)(d.$,{asChild:!0,size:"lg",children:(0,a.jsxs)(o(),{href:"/jobs/new",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5"}),"New Job"]})})]}),(0,a.jsxs)(E.P.div,{className:"flex flex-col md:flex-row gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search jobs...",value:_,onChange:e=>D(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(C.rI,{children:[(0,a.jsx)(C.ty,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",children:[(0,a.jsx)(j,{className:"mr-2 h-4 w-4"}),"Status: ","all"===R?"All":R]})}),(0,a.jsxs)(C.SQ,{children:[(0,a.jsx)(C._2,{onClick:()=>L("all"),children:"All Statuses"}),(0,a.jsx)(C.mB,{}),(0,a.jsx)(C._2,{onClick:()=>L("COMPLETED"),children:"Completed"}),(0,a.jsx)(C._2,{onClick:()=>L("PROCESSING"),children:"Processing"}),(0,a.jsx)(C._2,{onClick:()=>L("FAILED"),children:"Failed"}),(0,a.jsx)(C._2,{onClick:()=>L("QUEUED"),children:"Queued"})]})]})]}),(0,a.jsx)(E.P.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:0===O.length?(0,a.jsx)(u.Zp,{children:(0,a.jsxs)(u.Wu,{className:"text-center py-12",children:[(0,a.jsx)(y.A,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium",children:"No jobs found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:_?"Try adjusting your search terms":"Create your first subtitle generation job"}),(0,a.jsx)(d.$,{className:"mt-4",asChild:!0,children:(0,a.jsxs)(o(),{href:"/jobs/new",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Create Job"]})})]})}):O.map((e,s)=>(0,a.jsx)(E.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*s},children:(0,a.jsxs)(u.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(u.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(u.ZB,{className:"text-lg",children:e.title}),(0,a.jsx)(p.E,{className:(0,P.qY)(e.status),children:e.status})]}),(0,a.jsxs)(u.BT,{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(v.A,{className:"mr-1 h-3 w-3"}),(0,P.Yq)(new Date(e.createdAt))]}),(0,a.jsx)("span",{children:e.inputType.replace("_"," ")}),(0,a.jsxs)("span",{children:[e.targetLanguages.length," languages"]}),e.duration&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(b.A,{className:"mr-1 h-3 w-3"}),(0,P.a3)(e.duration)]})]})]}),(0,a.jsxs)(C.rI,{children:[(0,a.jsx)(C.ty,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(g,{className:"h-4 w-4"})})}),(0,a.jsxs)(C.SQ,{align:"end",children:[(0,a.jsx)(C._2,{asChild:!0,children:(0,a.jsxs)(o(),{href:`/jobs/${e.id}`,children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"View Details"]})}),"COMPLETED"===e.status&&e.subtitles&&e.subtitles.length>0&&(0,a.jsx)(C._2,{asChild:!0,children:(0,a.jsxs)(o(),{href:`/api/subtitles/${e.subtitles[0].id}/download`,children:[(0,a.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Download"]})}),"FAILED"===e.status&&(0,a.jsxs)(C._2,{onClick:()=>G(e.id),children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Retry"]}),(0,a.jsx)(C.mB,{}),(0,a.jsxs)(C._2,{onClick:()=>z(e.id),className:"text-red-600",children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),(0,a.jsx)(u.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Source:"})," ",e.inputSource]}),e.description&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Description:"})," ",e.description]}),"COMPLETED"!==e.status&&"FAILED"!==e.status&&"CANCELLED"!==e.status&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),(0,a.jsx)(x.k,{value:e.progress,className:"h-2"})]}),e.errorMessage&&(0,a.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:[(0,a.jsx)("span",{className:"font-medium",children:"Error:"})," ",e.errorMessage]})]})})]})},e.id))}),I>1&&(0,a.jsxs)(E.P.div,{className:"flex justify-center space-x-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>q($-1),disabled:1===$,children:"Previous"}),(0,a.jsxs)("span",{className:"flex items-center px-4 text-sm text-muted-foreground",children:["Page ",$," of ",I]}),(0,a.jsx)(d.$,{variant:"outline",onClick:()=>q($+1),disabled:$===I,children:"Next"})]})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},33873:e=>{"use strict";e.exports=require("path")},40228:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48730:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},52788:(e,s,t)=>{Promise.resolve().then(t.bind(t,19491))},57769:(e,s,t)=>{"use strict";t.d(s,{k:()=>g});var a=t(60687),r=t(43210),i=t(11273),l=t(14163),n="Progress",[o,d]=(0,i.A)(n),[c,u]=o(n),p=r.forwardRef((e,s)=>{var t,r;let{__scopeProgress:i,value:n=null,max:o,getValueLabel:d=h,...u}=e;(o||0===o)&&!y(o)&&console.error((t=`${o}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let p=y(o)?o:100;null===n||v(n,p)||console.error((r=`${n}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let x=v(n,p)?n:null,m=j(x)?d(x,p):void 0;return(0,a.jsx)(c,{scope:i,value:x,max:p,children:(0,a.jsx)(l.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":j(x)?x:void 0,"aria-valuetext":m,role:"progressbar","data-state":f(x,p),"data-value":x??void 0,"data-max":p,...u,ref:s})})});p.displayName=n;var x="ProgressIndicator",m=r.forwardRef((e,s)=>{let{__scopeProgress:t,...r}=e,i=u(x,t);return(0,a.jsx)(l.sG.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function h(e,s){return`${Math.round(e/s*100)}%`}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function j(e){return"number"==typeof e}function y(e){return j(e)&&!isNaN(e)&&e>0}function v(e,s){return j(e)&&!isNaN(e)&&e<=s&&e>=0}m.displayName=x;var b=t(96241);let g=r.forwardRef(({className:e,value:s,...t},r)=>(0,a.jsx)(p,{ref:r,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,a.jsx)(m,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));g.displayName=p.displayName},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(60687),r=t(43210),i=t(96241);let l=r.forwardRef(({className:e,type:s,...t},r)=>(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));l.displayName="Input"},77372:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Empresa\\\\SubMagic-deep\\\\professional-subtitle-generator\\\\app\\\\app\\\\jobs\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Empresa\\SubMagic-deep\\professional-subtitle-generator\\app\\app\\jobs\\page.tsx","default")},78122:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88233:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},93091:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=t(65239),r=t(48088),i=t(88170),l=t.n(i),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,77372)),"D:\\Empresa\\SubMagic-deep\\professional-subtitle-generator\\app\\app\\jobs\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,98839)),"D:\\Empresa\\SubMagic-deep\\professional-subtitle-generator\\app\\app\\jobs\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"D:\\Empresa\\SubMagic-deep\\professional-subtitle-generator\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Empresa\\SubMagic-deep\\professional-subtitle-generator\\app\\app\\jobs\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/jobs/page",pathname:"/jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},96474:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98839:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(37413),r=t(96046);function i({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(r.Header,{}),(0,a.jsx)("main",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:e})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[243,249,325,121,970,489],()=>t(93091));module.exports=a})();